i put in the undoActive variable to try to dodge the issues but no joy
cant understand why the periodsHistory stack keeps getting bigger with no push commands